# å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ-äº‹ä»¶é£æš´å»ºæ¨¡

## ç¬¬ä¸€æ­¥ï¼šè¯†åˆ«æ ¸å¿ƒè¦ç´ 

### é¢†åŸŸäº‹ä»¶ï¼ˆDomain Eventsï¼Œä½¿ç”¨è¿‡å»å¼æè¿°çš„ä¸šåŠ¡äº‹å®ï¼‰

- å›¾ä¹¦å·²å€Ÿå‡º
- å›¾ä¹¦å·²å½’è¿˜
- å›¾ä¹¦å·²è¢«é¢„çº¦
- é¢„çº¦å·²å–æ¶ˆ
- ç½šæ¬¾å·²ç”Ÿæˆ
- ç½šæ¬¾å·²æ”¯ä»˜
- å›¾ä¹¦å·²æ·»åŠ 
- å›¾ä¹¦å·²ç§»é™¤
- å›¾ä¹¦ä¿¡æ¯å·²æ›´æ–°
- ç”¨æˆ·å·²æ³¨å†Œ
- ç”¨æˆ·è´¦å·å·²è¢«æš‚åœ
- ç”¨æˆ·è´¦å·å·²é‡æ–°æ¿€æ´»

### å‘½ä»¤ï¼ˆCommandsï¼Œä½¿ç”¨ç°åœ¨å¼åŠ¨è¯è¡¨ç¤ºçš„è¡Œä¸ºï¼‰

- å€Ÿé˜…å›¾ä¹¦
- å½’è¿˜å›¾ä¹¦
- é¢„çº¦å›¾ä¹¦
- å–æ¶ˆé¢„çº¦
- ç”Ÿæˆç½šæ¬¾
- æ”¯ä»˜ç½šæ¬¾
- æ·»åŠ å›¾ä¹¦
- ç§»é™¤å›¾ä¹¦
- æ›´æ–°å›¾ä¹¦ä¿¡æ¯
- æ³¨å†Œç”¨æˆ·
- æš‚åœç”¨æˆ·è´¦å·
- æ¿€æ´»ç”¨æˆ·è´¦å·

### è¡Œä¸ºè€…ï¼ˆActorsï¼‰

- å›¾ä¹¦ç®¡ç†å‘˜ï¼ˆLibrarianï¼‰
- å›¾ä¹¦é¦†ç”¨æˆ·ï¼ˆMemberï¼‰
- å›¾ä¹¦é¦†ç³»ç»Ÿï¼ˆè‡ªåŠ¨ï¼‰ï¼ˆLibrary Systemï¼‰

### çƒ­ç‚¹ï¼ˆHotspotsï¼‰

- åŒä¸€æœ¬å›¾ä¹¦é‡å¤é¢„çº¦çš„å¤„ç†è§„åˆ™
- ç½šæ¬¾è®¡ç®—è§„åˆ™ï¼ˆå¦‚ï¼šå®½é™æœŸã€æ¯æ—¥ç½šé‡‘ç­‰ï¼‰
- å›¾ä¹¦å¯ç”¨æ€§æ ¡éªŒé€»è¾‘çš„å¤æ‚åº¦

### ç­–ç•¥ï¼ˆPoliciesï¼‰

- å¦‚æœå›¾ä¹¦é€¾æœŸå½’è¿˜ï¼Œåˆ™å¿…é¡»ç”Ÿæˆç½šæ¬¾
- å¦‚æœé¢„çº¦å›¾ä¹¦åœ¨3æ—¥å†…æœªå–èµ°ï¼Œè‡ªåŠ¨å–æ¶ˆé¢„çº¦
- è¢«æš‚åœçš„ç”¨æˆ·æ— æ³•å€Ÿé˜…æˆ–é¢„çº¦å›¾ä¹¦

---

## ç¬¬äºŒæ­¥ï¼šäº‹ä»¶é©±åŠ¨çš„äºŒå…ƒæœ‰å‘å…ƒç»„åˆ—è¡¨

```text

[Actor: ç”¨æˆ·, Command: å€Ÿé˜…å›¾ä¹¦]
[Command: å€Ÿé˜…å›¾ä¹¦, Event: å›¾ä¹¦å·²å€Ÿå‡º]
[Policy: è¢«æš‚åœçš„ç”¨æˆ·æ— æ³•å€Ÿé˜…å›¾ä¹¦, Event: å›¾ä¹¦å·²å€Ÿå‡º]

[Actor: ç”¨æˆ·, Command: å½’è¿˜å›¾ä¹¦]
[Command: å½’è¿˜å›¾ä¹¦, Event: å›¾ä¹¦å·²å½’è¿˜]
[Policy: å›¾ä¹¦é€¾æœŸå½’è¿˜å¿…é¡»ç”Ÿæˆç½šæ¬¾, Event: å›¾ä¹¦å·²å½’è¿˜]
[Event: å›¾ä¹¦å·²å½’è¿˜, Event: ç½šæ¬¾å·²ç”Ÿæˆ]

[Actor: ç”¨æˆ·, Command: é¢„çº¦å›¾ä¹¦]
[Command: é¢„çº¦å›¾ä¹¦, Event: å›¾ä¹¦å·²è¢«é¢„çº¦]
[Hotspot: åŒä¸€æœ¬å›¾ä¹¦é‡å¤é¢„çº¦çš„å¤„ç†è§„åˆ™, Event: å›¾ä¹¦å·²è¢«é¢„çº¦]

[Actor: ç”¨æˆ·, Command: å–æ¶ˆé¢„çº¦]
[Command: å–æ¶ˆé¢„çº¦, Event: é¢„çº¦å·²å–æ¶ˆ]

[Actor: ç®¡ç†å‘˜, Command: ç”Ÿæˆç½šæ¬¾]
[Command: ç”Ÿæˆç½šæ¬¾, Event: ç½šæ¬¾å·²ç”Ÿæˆ]

[Actor: ç”¨æˆ·, Command: æ”¯ä»˜ç½šæ¬¾]
[Command: æ”¯ä»˜ç½šæ¬¾, Event: ç½šæ¬¾å·²æ”¯ä»˜]

[Actor: ç®¡ç†å‘˜, Command: æ·»åŠ å›¾ä¹¦]
[Command: æ·»åŠ å›¾ä¹¦, Event: å›¾ä¹¦å·²æ·»åŠ ]

[Actor: ç®¡ç†å‘˜, Command: ç§»é™¤å›¾ä¹¦]
[Command: ç§»é™¤å›¾ä¹¦, Event: å›¾ä¹¦å·²ç§»é™¤]

[Actor: ç®¡ç†å‘˜, Command: æ›´æ–°å›¾ä¹¦ä¿¡æ¯]
[Command: æ›´æ–°å›¾ä¹¦ä¿¡æ¯, Event: å›¾ä¹¦ä¿¡æ¯å·²æ›´æ–°]

[Actor: ç”¨æˆ·, Command: æ³¨å†Œç”¨æˆ·]
[Command: æ³¨å†Œç”¨æˆ·, Event: ç”¨æˆ·å·²æ³¨å†Œ]

[Actor: ç®¡ç†å‘˜, Command: æš‚åœç”¨æˆ·è´¦å·]
[Command: æš‚åœç”¨æˆ·è´¦å·, Event: ç”¨æˆ·è´¦å·å·²è¢«æš‚åœ]

[Actor: ç®¡ç†å‘˜, Command: æ¿€æ´»ç”¨æˆ·è´¦å·]
[Command: æ¿€æ´»ç”¨æˆ·è´¦å·, Event: ç”¨æˆ·è´¦å·å·²é‡æ–°æ¿€æ´»]

[Policy: é¢„çº¦å›¾ä¹¦åœ¨3æ—¥å†…æœªå–èµ°ï¼Œè‡ªåŠ¨å–æ¶ˆé¢„çº¦, Event: é¢„çº¦å·²å–æ¶ˆ]
```



## ç¬¬ä¸‰æ­¥ï¼šåŸºäºäº‹ä»¶æµçš„PlantUMLå¯è§†åŒ–å»ºæ¨¡

### å›¾ä¾‹ï¼šé¢œè‰²æ ‡è¯†

* ğŸŸ§ é¢†åŸŸäº‹ä»¶ï¼šæ©™è‰²
* ğŸŸ¦ å‘½ä»¤ï¼šè“è‰²
* ğŸŸ¨ è¡Œä¸ºè€…ï¼šé»„è‰²
* ğŸ”´ çƒ­ç‚¹ï¼šçº¢è‰²
* ğŸŸª ç­–ç•¥ï¼šç´«è‰²

```plantuml
@startuml
skinparam style strict
skinparam rectangle {
  StereotypeFontColor black
  StereotypeFontSize 12
  BackgroundColor white
  BorderColor black
}

actor "ç”¨æˆ·" as Member <<Actor>> #FBF8A6
actor "ç®¡ç†å‘˜" as Librarian <<Actor>> #FBF8A6
actor "ç³»ç»Ÿ" as System <<Actor>> #FBF8A6

rectangle "å€Ÿé˜…å›¾ä¹¦" as BorrowBook <<Command>> #AEC6CF
rectangle "å›¾ä¹¦å·²å€Ÿå‡º" as BookBorrowed <<Event>> #FFB347
rectangle "è¢«æš‚åœç”¨æˆ·ä¸èƒ½å€Ÿä¹¦" as BorrowPolicy <<Policy>> #DDA0DD

rectangle "å½’è¿˜å›¾ä¹¦" as ReturnBook <<Command>> #AEC6CF
rectangle "å›¾ä¹¦å·²å½’è¿˜" as BookReturned <<Event>> #FFB347
rectangle "å½’è¿˜é€¾æœŸéœ€ç½šæ¬¾" as FinePolicy <<Policy>> #DDA0DD
rectangle "ç½šæ¬¾å·²ç”Ÿæˆ" as FineIssued <<Event>> #FFB347

rectangle "é¢„çº¦å›¾ä¹¦" as ReserveBook <<Command>> #AEC6CF
rectangle "å›¾ä¹¦å·²è¢«é¢„çº¦" as BookReserved <<Event>> #FFB347
rectangle "é‡å¤é¢„çº¦çƒ­ç‚¹" as ReserveHotspot <<Hotspot>> #FF6961

rectangle "å–æ¶ˆé¢„çº¦" as CancelReservation <<Command>> #AEC6CF
rectangle "é¢„çº¦å·²å–æ¶ˆ" as ReservationCancelled <<Event>> #FFB347
rectangle "3æ—¥æœªå–è‡ªåŠ¨å–æ¶ˆ" as CancelPolicy <<Policy>> #DDA0DD

rectangle "ç”Ÿæˆç½šæ¬¾" as IssueFine <<Command>> #AEC6CF
rectangle "æ”¯ä»˜ç½šæ¬¾" as PayFine <<Command>> #AEC6CF
rectangle "ç½šæ¬¾å·²æ”¯ä»˜" as FinePaid <<Event>> #FFB347

rectangle "æ·»åŠ å›¾ä¹¦" as AddBook <<Command>> #AEC6CF
rectangle "å›¾ä¹¦å·²æ·»åŠ " as BookAdded <<Event>> #FFB347

rectangle "ç§»é™¤å›¾ä¹¦" as RemoveBook <<Command>> #AEC6CF
rectangle "å›¾ä¹¦å·²ç§»é™¤" as BookRemoved <<Event>> #FFB347

rectangle "æ›´æ–°å›¾ä¹¦ä¿¡æ¯" as UpdateBookInfo <<Command>> #AEC6CF
rectangle "å›¾ä¹¦ä¿¡æ¯å·²æ›´æ–°" as BookInfoUpdated <<Event>> #FFB347

rectangle "æ³¨å†Œç”¨æˆ·" as RegisterUser <<Command>> #AEC6CF
rectangle "ç”¨æˆ·å·²æ³¨å†Œ" as UserRegistered <<Event>> #FFB347

rectangle "æš‚åœè´¦å·" as SuspendUser <<Command>> #AEC6CF
rectangle "è´¦å·å·²æš‚åœ" as UserSuspended <<Event>> #FFB347

rectangle "æ¿€æ´»è´¦å·" as ReactivateUser <<Command>> #AEC6CF
rectangle "è´¦å·å·²æ¿€æ´»" as UserReactivated <<Event>> #FFB347

Member --> BorrowBook
BorrowBook --> BookBorrowed
BorrowPolicy --> BookBorrowed

Member --> ReturnBook
ReturnBook --> BookReturned
FinePolicy --> BookReturned
BookReturned --> FineIssued

Member --> ReserveBook
ReserveBook --> BookReserved
ReserveHotspot --> BookReserved

Member --> CancelReservation
CancelReservation --> ReservationCancelled
CancelPolicy --> ReservationCancelled

Librarian --> IssueFine
IssueFine --> FineIssued

Member --> PayFine
PayFine --> FinePaid

Librarian --> AddBook
AddBook --> BookAdded

Librarian --> RemoveBook
RemoveBook --> BookRemoved

Librarian --> UpdateBookInfo
UpdateBookInfo --> BookInfoUpdated

Member --> RegisterUser
RegisterUser --> UserRegistered

Librarian --> SuspendUser
SuspendUser --> UserSuspended

Librarian --> ReactivateUser
ReactivateUser --> UserReactivated
@enduml

```


![1748448303873](image/å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ-äº‹ä»¶é£æš´å»ºæ¨¡/1748448303873.png)


ChatGPT4o èŠå¤©è®°å½•
https://chatgpt.com/share/68373308-b45c-8005-8e66-56b729c666cc
