/* 数据库 */
.av__cell--header .av__celltext {
    font-weight: bold;
    font-size: 105%;
}
.av__views {
    box-shadow: none;
}
.av__title {
    margin-top: 5px;
    margin-bottom: 18px;
    padding-left: 7px;
    color: var(--b3-theme-primary);
}
.av__cell .b3-chip {
    border-radius: var(--b3-border-radius);
}
.protyle-wysiwyg[data-readonly=true] .av .av__celltext--url, .av__celltext.av__celltext--url, .av__celltext--url.b3-chip {
    background-color: var(--QYL-av-cell-background);
    color: var(--QYL-av-cell);
    border-bottom: none;
}
.protyle-wysiwyg[data-readonly=true] .av .av__celltext--url:hover, .av__celltext.av__celltext--url:hover, .av__celltext--url.b3-chip:hover {
    background-color: var(--QYL-av-cell-background-hover);
    color: var(--QYL-av-cell-hover);
    transition: 0.1s;
}
/* 数据库页签 */
#layouts .av__views .layout-tab-bar.fn__flex {
    background-color: var(--b3-theme-primary-lighter);
    border-radius: var(--b3-border-radius);
    & .item.item--focus {
        background-color: var(--b3-theme-background);
        border: none;
        margin: 2px;
        height: 25px;
        &::before {
            display: none !important;
        }
    }
    & .item:not(.item--focus) {
        background-color: rgba(255, 0, 0, 0);
        border: none;
        margin: 2px;
        height: 25px;
        &::before {
            display: none !important;
        }
    }
    &:not(:has(.item + .item)) {
        margin: 2px;
        border: 1px solid var(--b3-theme-surface-lighter);
        box-shadow: var(--b3-light-shadow);
        & .item {
            margin: 0;
        }
    }
}
[data-theme-mode="dark"] #layouts .av__views .layout-tab-bar.fn__flex {
    background-color: var(--b3-theme-surface);
    border-radius: var(--b3-border-radius);
    & .item.item--focus {
        background-color: var(--b3-theme-primary-lighter);
        border: none;
        &::before {
            display: none !important;
        }
    }
    & .item:not(.item--focus) {
        background-color: rgba(255, 0, 0, 0);
        border: none;
        &::before {
            display: none !important;
        }
    }
}
/* 数据库被引主键 */
.av__celltext--ref {
    color: var(--b3-theme-primary);
    border-bottom: none;
    &:hover {
        background-color: var(--b3-theme-primary-lighter);
        color: var(--b3-theme-on-bakcground);
        transition: var(--b3-transition);
    }
}
/* 数据库chip颜色 */
.custom-attr__avvalue .b3-chip[style*="color1)"], 
.av__cell .b3-chip[style*="color1)"], 
.av__panel .b3-chip[style*="color1)"], 
[data-name="av-col-option"] .color__square[style*="color1)"], 
.b3-menu__label .b3-chip[data-color="1"] {
    color: var(--QYL-av-chip-color1) !important;
    background-color: var(--QYL-av-chip-background1) !important;
}
.custom-attr__avvalue .b3-chip[style*="color2)"], 
.av__cell .b3-chip[style*="color2)"], 
.av__panel .b3-chip[style*="color2)"], 
[data-name="av-col-option"] .color__square[style*="color2)"], 
.b3-menu__label .b3-chip[data-color="2"] {
    color: var(--QYL-av-chip-color2) !important;
    background-color: var(--QYL-av-chip-background2) !important;
}
.custom-attr__avvalue .b3-chip[style*="color3)"], 
.av__cell .b3-chip[style*="color3)"], 
.av__panel .b3-chip[style*="color3)"], 
[data-name="av-col-option"] .color__square[style*="color3)"], 
.b3-menu__label .b3-chip[data-color="3"] {
    color: var(--QYL-av-chip-color3)  !important;
    background-color: var(--QYL-av-chip-background3) !important;
}
.custom-attr__avvalue .b3-chip[style*="color4)"], 
.av__cell .b3-chip[style*="color4)"], 
.av__panel .b3-chip[style*="color4)"], 
[data-name="av-col-option"] .color__square[style*="color4)"], 
.b3-menu__label .b3-chip[data-color="4"] {
    color: var(--QYL-av-chip-color4) !important;
    background-color: var(--QYL-av-chip-background4) !important;
}
.custom-attr__avvalue .b3-chip[style*="color5)"], 
.av__cell .b3-chip[style*="color5)"], 
.av__panel .b3-chip[style*="color5)"], 
[data-name="av-col-option"] .color__square[style*="color5)"], 
.b3-menu__label .b3-chip[data-color="5"] {
    color: var(--QYL-av-chip-color5) !important;
    background-color: var(--QYL-av-chip-background5) !important;
}
.custom-attr__avvalue .b3-chip[style*="color6)"], 
.av__cell .b3-chip[style*="color6)"], 
.av__panel .b3-chip[style*="color6)"], 
[data-name="av-col-option"] .color__square[style*="color6)"], 
.b3-menu__label .b3-chip[data-color="6"] {
    color: var(--QYL-av-chip-color6) !important;
    background-color: var(--QYL-av-chip-background6) !important;
}
.custom-attr__avvalue .b3-chip[style*="color7)"], 
.av__cell .b3-chip[style*="color7)"], 
.av__panel .b3-chip[style*="color7)"], 
[data-name="av-col-option"] .color__square[style*="color7)"], 
.b3-menu__label .b3-chip[data-color="7"] {
    color: var(--QYL-av-chip-color7) !important;
    background-color: var(--QYL-av-chip-background7) !important;
}
.custom-attr__avvalue .b3-chip[style*="color8)"], 
.av__cell .b3-chip[style*="color8)"], 
.av__panel .b3-chip[style*="color8)"], 
[data-name="av-col-option"] .color__square[style*="color8)"], 
.b3-menu__label .b3-chip[data-color="8"] {
    color: var(--QYL-av-chip-color8) !important;
    background-color: var(--QYL-av-chip-background8) !important;
}
.custom-attr__avvalue .b3-chip[style*="color9)"], 
.av__cell .b3-chip[style*="color9)"], 
.av__panel .b3-chip[style*="color9)"], 
[data-name="av-col-option"] .color__square[style*="color9)"], 
.b3-menu__label .b3-chip[data-color="9"] {
    color: var(--QYL-av-chip-color9) !important;
    background-color: var(--QYL-av-chip-background9) !important;
}
.custom-attr__avvalue .b3-chip[style*="color10)"], 
.av__cell .b3-chip[style*="color10)"], 
.av__panel .b3-chip[style*="color10)"], 
[data-name="av-col-option"] .color__square[style*="color10)"], 
.b3-menu__label .b3-chip[data-color="10"] {
    color: var(--QYL-av-chip-color10) !important;
    background-color: var(--QYL-av-chip-background10) !important;
}
.custom-attr__avvalue .b3-chip[style*="color11)"], 
.av__cell .b3-chip[style*="color11)"], 
.av__panel .b3-chip[style*="color11)"], 
[data-name="av-col-option"] .color__square[style*="color11)"], 
.b3-menu__label .b3-chip[data-color="11"] {
    color: var(--QYL-av-chip-color11) !important;
    background-color: var(--QYL-av-chip-background11) !important;
}
.custom-attr__avvalue .b3-chip[style*="color12)"], 
.av__cell .b3-chip[style*="color12)"], 
.av__panel .b3-chip[style*="color12)"], 
[data-name="av-col-option"] .color__square[style*="color12)"], 
.b3-menu__label .b3-chip[data-color="12"] {
    color: var(--QYL-av-chip-color12) !important;
    background-color: var(--QYL-av-chip-background12) !important;
}
.custom-attr__avvalue .b3-chip[style*="color13)"], 
.av__cell .b3-chip[style*="color13)"], 
.av__panel .b3-chip[style*="color13)"], 
[data-name="av-col-option"] .color__square[style*="color13)"], 
.b3-menu__label .b3-chip[data-color="13"] {
    color: var(--QYL-av-chip-color13) !important;
    background-color: var(--QYL-av-chip-background13) !important;
}
.custom-attr__avvalue .b3-chip[style*="color14)"], 
.av__cell .b3-chip[style*="color14)"], 
.av__panel .b3-chip[style*="color14)"], 
[data-name="av-col-option"] .color__square[style*="color14)"], 
.b3-menu__label .b3-chip[data-color="14"] {
    color: var(--QYL-av-chip-color14) !important;
    background-color: var(--QYL-av-chip-background14) !important;
}


/* 细节修复 */
.av__views > [data-type="av-search-icon"] + div > input:is([style*="width: 0"], [style*="width:0"]) {
    opacity: 0;
}
.av__mask .b3-text-field, .av__mask select.b3-select {
    background-color: var(--b3-theme-surface);
    &:is(:hover, :focus) {
        background-color: var(--b3-theme-surface)
    }
}
.b3-chip--info {
    outline: 1px solid var(--b3-theme-surface-lighter);
    background-color: var(--b3-theme-background);
    color: var(--b3-theme-on-background);
    &:hover {
        background-color: var(--b3-theme-primary);
        color: var(--QYL-white);
    }
}